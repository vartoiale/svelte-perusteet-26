# BEM - syntaksi yksiselitteisille luokkien nimille

BEM on html-elementtien luokkien nimeämiseen käytetty nimeämiskäytäntö.

# Mikä BEM

BEM tulee englanninkielisistä sanoista block, element, modifier.

Sen alkuperäinen tarkoitus on ollut tarjota tapa luoda yksiselitteisiä luokkien nimiä html-dokumenttiin.

CSS:n osalta pienoisena ongelmana on, että html-elementtien valinta tapahtuu vapaavalintaisten luokkien nimien avulla.
Se ei ehkä kuulosta ilmiselvältä ongelmalta, mutta käytännössä se sitä on - koska luokkien nimet voivat olla mitä vain, 
isolla sivulla on helppo vahingossa käyttää samaa luokan nimeä kahden kovin erilaisen elementin kuvaamiseen.
Ihmiset kun tuppaavat tekemään helppoja valintoja.

## Lyhyet luokkien nimet saattavat olla jo aiemmassa käytössä

Tässä tapauksessa helpot valinnat, kuten lyhyet, mutta kuvaavat elementtien nimet ovat ongelmallisia.

Esimerkiksi, lyhyt luokan nimi "otsikko", saattaa olla itsessään erittäin hyvin kuvaava luokan nimi otsikkoelementille,
mutta jos sivulla onkin kaksi erilaista otsikkoa, ja molemmille on annettun luokan nimeksi "otsikko" syntyykin ongelmia.

Ongelma tällöin syntyy siitä, kun luokan nimeä käytetään valitsimena css-säännöille,
muutokset kohdistuvatkin molempiin, samalla luokan nimellä nimettyihin erilaisiin elementteihin.

Näin saattaa käydä, jos yksi henkilö muokkaa dokumenttia eri aikoina, eikä muista käyttäneensä luokan nimeä toisessa osassa dokumenttia.
Vastaavasti useampi samaa dokumenttia muokkaava kehittäjä saattaa vahingossa valita saman helpon nimen elementeilleen, toisistaan tietämättä.

Molemmissa tapauksissa lopputilanne on kuitenkin sama - kahdella erilaisella elementillä on sama nimi, 
jota valitsimena käytettäessä, todennäköisesti kahdessa eri paikassa, niille yritetään antaa erilaisia css-sääntöjä.
Yleensä tällaisen tilanteen huomaamiseen menee hetki jos toinenkin.

## Tyypillinen ongelmatilanne, jossa kaksi erilaista elementtiä on nimetty samalla luokan nimellä

Yleensä tilanne soljuu jotenkin seuraavasti:
olet lisännyt elementillesi css-säännöt, mutta jostain syystä ne eivät toimikaan oletetusti,
kun syystä tai toisesta elementille pukkaa tyhjästä ylimääräinen vasen margin-sääntö, siirtäen elementtiä sivuun oletetusta.
Jonkun aikaa ihmeteltyäsi selviääkin, että olet jo käyttänyt samaa luokan nimeä toiselle elementille. 
Huomaat kirjoittaneesi sille jo joukon css-sääntöjäkin, jotka nyt kohdistuvat tuohon vanhaan elementtiin, sekä uuteen elementtiisi.

## Parempia luokkien nimiä

Miten tällainen ongelma ratkaistaan? 
Paremmilla luokkien nimillä, jotka todennäköisesti eivät onnistu osumaan yksiin aiempien samassa dokumentissa käytettyjen luokkien nimien kanssa.

Tarvitaan siis jokin helppo tapa nimetä luokkia html-dokumentissa tavalla, 
jossa samojen nimien käyttö olisi harvinaisempaa.

Tähän yksi vastaus on [BEM](https://getbem.com/)-nimeämiskäytäntö. 

## Miten BEM toimii

Kerraten, BEM tulee siis kolmesta englanninkielisestä sanasta: block (osa), element (elementti) ja modifier (muuntaja).

BEM-nimeämiskäytäntöä käyttävä luokannimi näyttää seuraavalta:

```
block__element--modifier
```

Tässä nimen osat toimivat seuraavasti:

* block tarkoittaa isompaa osiota sivulla - esim. yläpalkki
* element tarkoittaa tuon osion lasta - esim. yläpalkin ostoskori-nappi
* modifier tarkoittaa tuon lapsen jotain erikoistapausta, esimerkiksi valittua versiota napista (kun käyttäjä tab-näppäimellä valitsee elementin, sitä kutsutaan "valituksi")

### Block-osa

Block-osion nimi on BEM:ssä tärkein nimen osuus. 
Sen tulee olla sivulla yksimerkityksinen.
Sen pitää olla siis selkeästi vain yhtä sivun osaa kuvaava nimi, 
jotta samaa block nimeä ei vahingossa käytetä kahdesta erillisestä osiosta.

Block-osion nimi koostuu pelkästään sen block-osasta.

Nimi on siis muotoa:

```
block
```

Osion uloimman html-elementin nimi on siis yksinkertaisuudessaan pelkkä BEM:in block-nimi.
Esimerkiksi "asiakaspalvelu"-otsikon sisältävän osion block-osuus olisi tällöin luonnollisesti otsikon nimi: `asiakaspalvelu`.

Luokan nimi olisi tällöin:

```
asiakaspalvelu
```

### Element-elementti

BEM:ssä block-osan lapsena toimivan html-elementin nimen element-osuus muodostetaan osion nimestä, ja kuvaavasta lyhyestä nimestä elementille.

Se on siis muotoa:

```
block__element
```

Huomaa, että nimessä block-osa ja element-osa erotetaan toisistaan `__`-väliosalla.

Siinä missä block-osan nimien täytyy olla yksiselitteisiä koko sivulla, element-osan nimi voi olla käytössä myös muualla sivulla.
Sille tärkeämpää on olla kyseisen block-osion sisällä kuvaava.

Esimerkiksi asiakaspalvelu-osion otsikon block-osio olisi "asiakaspalvelu", ja element-osio voisi olla vaikka ihan vain "otsikko".

Luokan nimi olisi tällöin:

```
asiakaspalvelu__otsikko
```

### Modifier-muuntaja

Modifier-osa on kahdesta edellisestä poikkeava siinä, että sitä ei annetakkaan uusille elementeille,
vaan se annetaan toiseksi nimeksi element-tason nimelle.

Monesti meillä on html-sivulla tilanne, jossa samalle elementille pitää antaa eri tilanteissa erilaiset tyylit.
Yleinen tällainen tilanne on, kun haluamme asettaa linkille normaalit tyylit, mutta näyttää sen vähän eri tavalla,
silloin kun käyttäjä on vieraillut kyseisessä linkissä.
Voimme vaikka halua värjätä vieraillun linkin selaimen normaaleista tyyleistä poiketen jollain toisella erottuvalla värillä.

Huomautuksena, tällainen linkkien värjääminen saattaa vaikeuttaa sivun käytettävyyttä.
Tänä päivänä suosituksena on olla pääasiallisesti muokkaamatta vierailtujen linkki-elementtien tyylejä,
ellei tiedä miten muutokset vaikuttavat käytettävyyteen.

Modifier-erikoistapauksen nimi muodostetaan elementin nimestä, lisäämällä `--`-liitteellä kuvaava erikoistapaustilanne.

Se on siis muotoa:

```
block__element--modifier
```

Taas, tärkeintä modifier-osaa valittaessa on valita kuvaava nimi,
joka kertoo selkeästi missä tilanteessa luokkaa käytetään.

Esimerkiksi asiakaspalvelu-osion otsikko voisi saada punaisena modifier-osan "punainen".
Punainen ei välttämättä kerro paljoa, mutta se kertoo ainakin sen, että luokka määrittää punaisen version otsikosta.

Tällöin luokan nimi olisi:

```
asiakaspalvelu__otsikko--punainen
```

### Block-osa voi olla monimutkaisempi, sisältäen myös aiemman elementin nimen

Jos käsiteltävässä html-rakenteessa on enemmän kuin kaksi tasoa, mikään ei estä sisällyttämästä html-elementin BEM-nimen block-osaan vanhemman `block__element`-nimeä.

Eli jos toisen tason luokan nimi olisi muotoa:

```
block__element1
```

Voisi sen lapsen nimi olla muotoa:

```
block__element1__element2
```

Käytännön esimerkkinä, asiakaspalvelun alaisen sisältö-elementin luokannimi voisi olla esimerkiksi:

```
asiakaspalvelu__sisältö
```

ja tällöin sen yhteystiedot sisältävän lapsen luokannimi voisi olla:

```
asiakaspalvelu__sisältö__yhteystiedot
```

ja edelleen, sen lapsena olevan puhelinnumero-kentän nimi voisi olla:

```
asiakaspalvelu__sisältö__yhteystiedot__puhelinnumero
```

Nimistä tulee tällä tavalla pitkiä, mutta ne ovat kuitenkin hyvin selviä lukea.
Lisäksi ne näyttävät jo lapsielementin nimen avulla koko sitä yläpuolella olevan rakenteen.

On hyvä huomata, että tämä block-osion laajentaminen ei välttämättä ole täysin BEM-nimeämiskäytännön mukainen.

Toisaalta, BEM on vain nimeämiskäytäntö, ei säännöstö.
Sen toimivuus piilee juurikin sen lisäävässä ominaisuudessa.
Sen voi ottaa käyttöön, ja sitä voi muokata haluamakseen, kun tietää miten se toimii yleisessä tapauksessa.

Lopulta sovelluskehittäjän tehtävä on tehdä valintoja parhaan tietämyksensä puitteissa, 
soveltaen tätä tietoa nykyisen, ratkaistavan ongelman rajaamaan tilanteeseen.

## BEM lisää html-elementtien luettavuutta

Sen lisäksi, että BEM pyrkii ratkaisemaan, miten luoda yksiselitteisiä luokkien nimiä, 
se on vain yleisesti erittäin näppärä tapa nimetä asioita html-dokumentissa.

On yleisesti hyvä, että html-elementeillä on selkeät nimet.
Tämä helpottaa html-dokumentin lukemista.
Näiden nimien luomiseen BEM-sopii oikein hyvin, koska se elementin nimen lisäksi kertoo,
mihin, ja minkä nimisiin ylemmän tason elementteihin kyseinen elementti liittyy.

Eli samalla kun BEM-käytäntö antaa yksiselitteisiä nimiä html-elementeille,
se myös tulee avanneeksi niiden sukupuuta, eksplisiittiseksi osaksi niiden luokkien nimiä.
